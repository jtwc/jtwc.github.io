<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>R notes for S&amp;DS 220</title>
  <meta name="description" content="These notes organize and summarize the R material you need to know for S&amp;DS 220.">
  <meta name="generator" content="bookdown 0.6 and GitBook 2.6.7">

  <meta property="og:title" content="R notes for S&amp;DS 220" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="These notes organize and summarize the R material you need to know for S&amp;DS 220." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="R notes for S&amp;DS 220" />
  
  <meta name="twitter:description" content="These notes organize and summarize the R material you need to know for S&amp;DS 220." />
  

<meta name="author" content="">


<meta name="date" content="2018-03-27">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="probability.html">

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">R notes from S&DS 220</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>About</a></li>
<li class="chapter" data-level="1" data-path="basics.html"><a href="basics.html"><i class="fa fa-check"></i><b>1</b> Basics</a><ul>
<li class="chapter" data-level="1.1" data-path="basics.html"><a href="basics.html#setting-up"><i class="fa fa-check"></i><b>1.1</b> Setting up</a></li>
<li class="chapter" data-level="1.2" data-path="basics.html"><a href="basics.html#language-fundamentals"><i class="fa fa-check"></i><b>1.2</b> Language fundamentals</a><ul>
<li class="chapter" data-level="1.2.1" data-path="basics.html"><a href="basics.html#functions"><i class="fa fa-check"></i><b>1.2.1</b> Functions</a></li>
<li class="chapter" data-level="1.2.2" data-path="basics.html"><a href="basics.html#conditionals"><i class="fa fa-check"></i><b>1.2.2</b> Conditionals</a></li>
<li class="chapter" data-level="1.2.3" data-path="basics.html"><a href="basics.html#loops"><i class="fa fa-check"></i><b>1.2.3</b> Loops</a></li>
<li class="chapter" data-level="1.2.4" data-path="basics.html"><a href="basics.html#workspace"><i class="fa fa-check"></i><b>1.2.4</b> Workspace</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="basics.html"><a href="basics.html#r-packages"><i class="fa fa-check"></i><b>1.3</b> R packages</a></li>
<li class="chapter" data-level="1.4" data-path="basics.html"><a href="basics.html#more"><i class="fa fa-check"></i><b>1.4</b> More</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="plotting.html"><a href="plotting.html"><i class="fa fa-check"></i><b>2</b> Plotting</a><ul>
<li class="chapter" data-level="2.1" data-path="plotting.html"><a href="plotting.html#histograms"><i class="fa fa-check"></i><b>2.1</b> Histograms</a></li>
<li class="chapter" data-level="2.2" data-path="plotting.html"><a href="plotting.html#scatterplots"><i class="fa fa-check"></i><b>2.2</b> Scatterplots</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="markdown.html"><a href="markdown.html"><i class="fa fa-check"></i><b>3</b> Markdown</a></li>
<li class="chapter" data-level="4" data-path="probability.html"><a href="probability.html"><i class="fa fa-check"></i><b>4</b> Probability</a><ul>
<li class="chapter" data-level="4.1" data-path="probability.html"><a href="probability.html#sampling-from-a-vector"><i class="fa fa-check"></i><b>4.1</b> Sampling from a vector</a></li>
<li class="chapter" data-level="4.2" data-path="probability.html"><a href="probability.html#four-basic-functions-for-common-distributions"><i class="fa fa-check"></i><b>4.2</b> Four basic functions for common distributions</a></li>
<li class="chapter" data-level="4.3" data-path="probability.html"><a href="probability.html#simulation"><i class="fa fa-check"></i><b>4.3</b> Simulation</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="statistics.html"><a href="statistics.html"><i class="fa fa-check"></i><b>5</b> Statistics</a><ul>
<li class="chapter" data-level="5.1" data-path="statistics.html"><a href="statistics.html#binomial-statistics"><i class="fa fa-check"></i><b>5.1</b> Binomial statistics</a></li>
<li class="chapter" data-level="5.2" data-path="statistics.html"><a href="statistics.html#more-to-come"><i class="fa fa-check"></i><b>5.2</b> More to come</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R notes for S&amp;DS 220</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="statistics" class="section level1">
<h1><span class="header-section-number">Chapter 5</span> Statistics</h1>
<div id="binomial-statistics" class="section level2">
<h2><span class="header-section-number">5.1</span> Binomial statistics</h2>
<p>Suppose a casino game involves flipping a coin that they claim is fair, i.e. that heads and tails are equally probable. The casino wins the bet when which tails is flipped, while you win if it’s heads. You play the game 1000 times and observe only 429 heads. Should you doubt the casino’s claim that the coin is fair? We could use <code>pbinom</code> to calculate the exact significance probability, but let’s instead try <code>prop.test</code> which uses the Normal approximation with a continuity correction to give a significance probability and confidence interval. (Add the parameter <code>correct=F</code> to suppress the continuity correction.)</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb31-1" data-line-number="1"><span class="kw">prop.test</span>(<span class="dv">429</span>, <span class="dv">1000</span>, <span class="dt">alternative=</span><span class="st">&quot;less&quot;</span>)</a></code></pre></div>
<pre><code>## 
##  1-sample proportions test with continuity correction
## 
## data:  429 out of 1000, null probability 0.5
## X-squared = 19.881, df = 1, p-value = 4.121e-06
## alternative hypothesis: true p is less than 0.5
## 95 percent confidence interval:
##  0.0000000 0.4554038
## sample estimates:
##     p 
## 0.429</code></pre>
<p>If the coin really is fair, there’s less than a one in ten thousand chance of an outcome at least this small. If the casino had instead claimed that the coin had heads probability of .48, you could test that by adding the parameter <code>p=.48</code> to the function call.</p>
<p>To test the other extreme with <code>prop.test</code>, use <code>alternative=&quot;greater&quot;</code>; a two-sided test is used by default if you do not specify a value for <code>alternative</code>.</p>
<p>There are a variety of opinions about how to calculate confidence intervals for a Binomial success probability. A number of methods are provided by <code>binom.confint</code> in the <code>binom</code> package. (Do <code>install.packages(&quot;binom&quot;)</code> before running the code below.)</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb33-1" data-line-number="1"><span class="kw">library</span>(binom)</a>
<a class="sourceLine" id="cb33-2" data-line-number="2"><span class="kw">binom.confint</span>(<span class="dv">429</span>, <span class="dv">1000</span>, <span class="dt">conf.level=</span><span class="fl">0.95</span>, <span class="dt">methods=</span><span class="st">&quot;all&quot;</span>)</a></code></pre></div>
<pre><code>##           method   x    n      mean     lower     upper
## 1  agresti-coull 429 1000 0.4290000 0.3986523 0.4598911
## 2     asymptotic 429 1000 0.4290000 0.3983243 0.4596757
## 3          bayes 429 1000 0.4290709 0.3984722 0.4597491
## 4        cloglog 429 1000 0.4290000 0.3981561 0.4594475
## 5          exact 429 1000 0.4290000 0.3980720 0.4603472
## 6          logit 429 1000 0.4290000 0.3986339 0.4599102
## 7         probit 429 1000 0.4290000 0.3985686 0.4598596
## 8        profile 429 1000 0.4290000 0.3985352 0.4598282
## 9            lrt 429 1000 0.4290000 0.3985450 0.4598228
## 10     prop.test 429 1000 0.4290000 0.3981599 0.4603924
## 11        wilson 429 1000 0.4290000 0.3986535 0.4598899</code></pre>
<hr />
<p><strong>Exercise:</strong> Run a two-sided <code>prop.test</code> to see which of the <code>binom.confint</code> methods it agrees with.</p>
<hr />
</div>
<div id="more-to-come" class="section level2">
<h2><span class="header-section-number">5.2</span> More to come</h2>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="probability.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": ["Intensive-Stats-R.pdf", "Intensive-Stats-R.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
